webpackJsonp([1],{"1d4Q":function(t,a){},"2j/N":function(t,a){},"7zck":function(t,a){},NHnr:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var r=e("7+uW"),o={render:function(){var t=this.$createElement,a=this._self._c||t;return a("div",{attrs:{id:"app"}},[a("v-app",{attrs:{id:"inspire",dark:""}},[a("router-view",{attrs:{name:"nav"}}),this._v(" "),a("router-view",{attrs:{name:"content"}})],1)],1)},staticRenderFns:[]};var i=e("VU/8")({name:"app"},o,!1,function(t){e("2j/N")},null,null).exports,s=e("/ocq"),n=e("Xxa5"),d=e.n(n),l=e("exGp"),c=e.n(l),u=e("NYxO"),v=e("mtWM"),f=e.n(v);r.default.use(u.a);var m=new u.a.Store({state:{userToken:null,currentBoard:{_id:null,name:null}},actions:{login:function(t,a){var e=this;return c()(d.a.mark(function r(){return d.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,f.a.post("/api/user/token",{userEmail:a.userEmail,password:a.password}).then(function(){var a=c()(d.a.mark(function a(r){return d.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.commit("login",r.data.token);case 2:case"end":return a.stop()}},a,e)}));return function(t){return a.apply(this,arguments)}}()).catch(function(t){alert(t.response.data.errorMessage)});case 2:case"end":return r.stop()}},r,e)}))()},logout:function(t){t.commit("logout")},selectBoard:function(t,a){t.commit("selectBoard",a)},destroyCurrentBoard:function(t){t.commit("destroyCurrentBoard")}},mutations:{login:function(t,a){t.userToken=a,localStorage.userToken=a},logout:function(t){f.a.defaults.headers.common.token=void 0,t.userToken=null,t.currentBoard={_id:null,name:null},delete localStorage.userToken},selectBoard:function(t,a){t.currentBoard=a},destroyCurrentBoard:function(t,a){t.currentBoard={_id:null,name:null}}},getters:{getToken:function(t){return t.userToken=t.userToken||localStorage.userToken,t.userToken},getCurrentBoardId:function(t){return t.currentBoard._id},getCurrentBoardName:function(t){return t.currentBoard.name}}}),p={name:"board",data:function(){return{board:{name:null,card:[]},addCardName:"",addListName:"",modifyListName:"",selectedCard:null,selectedList:null,addCardDialog:!1,addListDialog:!1,modifyListDialog:!1}},computed:{currentBoardId:function(){return this.$store.getters.getCurrentBoardId}},watch:{currentBoardId:function(t){var a=this;this.board={name:null,card:[]},this.currentBoardId&&this.$axios.get("/api/board",{params:{boardId:t}}).then(function(t){a.board=t.data}).catch(function(t){alert(t.response.data.errorMessage)})}},methods:{deleteList:function(){this.selectedCard.list.splice(this.selectedCard.list.indexOf(this.selectedList),1),this.modifyBoard(),this.closeDialog()},deleteCard:function(t){this.board.card.splice(this.board.card.indexOf(t),1),this.modifyBoard()},modifyList:function(){this.selectedList.name=this.modifyListName,this.modifyBoard(),this.closeDialog()},addList:function(){this.selectedCard.list.push({name:this.addListName}),this.modifyBoard(),this.closeDialog()},addCard:function(){this.board.card.push({name:this.addCardName,list:[]}),this.modifyBoard(),this.closeDialog()},modifyBoard:function(){var t=this;this.$axios.put("/api/board",{boardId:this.board._id,name:this.board.name,card:this.board.card}).then(function(a){t.board=a.data}).catch(function(t){alert(t.response.data.errorMessage)})},loadBoard:function(t){this.$axios.get("/api/board",{params:{boardId:t}}).then(function(t){return t.data}).catch(function(t){alert(t.response.data.errorMessage)})},openModifyListDialog:function(t,a){this.selectedCard=a,this.selectedList=t,this.modifyListDialog=!0},openAddListDialog:function(t){this.selectedCard=t,this.addListDialog=!0},openAddCardDialog:function(){this.addCardDialog=!0},closeDialog:function(){this.addCardName="",this.addListName="",this.modifyListName="",this.addCardDialog=!1,this.addListDialog=!1,this.modifyListDialog=!1,this.selectedCard=null}}},g={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("v-content",{staticClass:"board"},[e("v-container",{attrs:{"grid-list-md":"",fluid:""}},[t.currentBoardId?e("v-layout",{attrs:{"align-start":"",row:"","d-inline-flex":""}},[t._l(t.board.card,function(a){return e("v-flex",{key:a._id},[e("v-card",{staticClass:"white--text card",attrs:{color:"grey darken-3",width:"300"}},[e("v-card-title",{style:{padding:0,margin:0}},[e("v-spacer"),t._v(" "),e("v-menu",{attrs:{bottom:"",left:"",transition:"slide-y-transition"}},[e("v-btn",{attrs:{slot:"activator",icon:""},slot:"activator"},[e("v-icon",[t._v("more_vert")])],1),t._v(" "),e("v-list",{attrs:{light:"",dense:""}},[e("v-list-tile",{on:{click:function(e){t.deleteCard(a)}}},[e("v-list-tile-title",[t._v("Delete")])],1)],1)],1)],1),t._v(" "),e("v-card-text",{style:{paddingTop:0}},[e("v-textarea",{style:{marginTop:0},attrs:{"auto-grow":"","hide-details":"",rows:"1"},on:{focusout:t.modifyBoard},model:{value:a.name,callback:function(e){t.$set(a,"name",e)},expression:"card.name"}})],1),t._v(" "),t._l(a.list,function(r){return e("v-flex",{key:r._id,attrs:{"px-3":""},on:{click:function(e){t.openModifyListDialog(r,a)}}},[e("v-card",{attrs:{color:"grey darken-2"}},[e("v-card-title",{style:{overflow:"hidden"}},[t._v(t._s(r.name))])],1)],1)}),t._v(" "),e("v-card-actions",{style:{paddingTop:0}},[e("v-spacer"),t._v(" "),e("v-btn",{attrs:{flat:"",dark:""},on:{click:function(e){t.openAddListDialog(a)}}},[t._v("add List")])],1)],2)],1)}),t._v(" "),e("v-flex",[e("div",[e("v-btn",{style:{margin:0},attrs:{color:"grey darken-3",dark:"",large:""},on:{click:t.openAddCardDialog}},[t._v("add Card")])],1)])],2):e("v-card",{attrs:{color:"grey darken-2"}},[e("v-card-text",[e("span",[t._v("보드를 선택해주세요.")])]),t._v(" "),e("v-card-text",[e("span",[t._v("보드가 없다면 만들어보세요.")])])],1)],1),t._v(" "),e("v-dialog",{attrs:{persistent:"","max-width":"550"},model:{value:t.modifyListDialog,callback:function(a){t.modifyListDialog=a},expression:"modifyListDialog"}},[e("v-card",[e("v-card-title",{staticClass:"headline"},[t._v("변경하고 싶은 이름이 무엇인가요?")]),t._v(" "),e("v-card-text",{style:{paddingTop:0}},[e("v-textarea",{style:{marginTop:0},attrs:{"auto-grow":"","hide-details":"",rows:"1"},model:{value:t.modifyListName,callback:function(a){t.modifyListName=a},expression:"modifyListName"}})],1),t._v(" "),e("v-card-actions",[e("v-spacer"),t._v(" "),e("v-btn",{attrs:{color:"red darken-3",dark:"",flat:""},on:{click:t.closeDialog}},[t._v("CANCEL")]),t._v(" "),e("v-btn",{attrs:{color:"red darken-3",dark:"",flat:""},on:{click:t.deleteList}},[t._v("DELETE")]),t._v(" "),e("v-btn",{attrs:{dark:"",flat:""},on:{click:t.modifyList}},[t._v("Modify")])],1)],1)],1),t._v(" "),e("v-dialog",{attrs:{persistent:"","max-width":"550"},model:{value:t.addCardDialog,callback:function(a){t.addCardDialog=a},expression:"addCardDialog"}},[e("v-card",[e("v-card-title",{staticClass:"headline"},[t._v("추가하고 싶은 카드의 이름이 무엇인가요?")]),t._v(" "),e("v-card-text",{style:{paddingTop:0}},[e("v-textarea",{style:{marginTop:0},attrs:{"auto-grow":"","hide-details":"",rows:"1"},model:{value:t.addCardName,callback:function(a){t.addCardName=a},expression:"addCardName"}})],1),t._v(" "),e("v-card-actions",[e("v-spacer"),t._v(" "),e("v-btn",{attrs:{color:"red darken-3",dark:"",flat:""},on:{click:t.closeDialog}},[t._v("CANCEL")]),t._v(" "),e("v-btn",{attrs:{dark:"",flat:""},on:{click:t.addCard}},[t._v("ADD")])],1)],1)],1),t._v(" "),e("v-dialog",{attrs:{persistent:"","max-width":"550"},model:{value:t.addListDialog,callback:function(a){t.addListDialog=a},expression:"addListDialog"}},[e("v-card",[e("v-card-title",{staticClass:"headline"},[t._v("추가하고 싶은 리스트의 이름이 무엇인가요?")]),t._v(" "),e("v-card-text",{style:{paddingTop:0}},[e("v-textarea",{style:{marginTop:0},attrs:{"auto-grow":"","hide-details":"",rows:"1"},model:{value:t.addListName,callback:function(a){t.addListName=a},expression:"addListName"}})],1),t._v(" "),e("v-card-actions",[e("v-spacer"),t._v(" "),e("v-btn",{attrs:{color:"red darken-3",dark:"",flat:""},on:{click:t.closeDialog}},[t._v("CANCEL")]),t._v(" "),e("v-btn",{attrs:{dark:"",flat:""},on:{click:t.addList}},[t._v("ADD")])],1)],1)],1)],1)},staticRenderFns:[]};var h=e("VU/8")(p,g,!1,function(t){e("1d4Q")},"data-v-7cd7bc91",null).exports,_={name:"nav",data:function(){return{drawer:!0,boards:[],userEmail:"",userName:"",addBoardName:"",addDialog:!1}},created:function(){this.loadMyInfo()},computed:{currentBoardId:function(){return this.$store.getters.getCurrentBoardId},currentBoardName:function(){return this.$store.getters.getCurrentBoardName}},methods:{deleteBoard:function(t){var a=this;this.$axios.delete("/api/board",{data:{boardId:t._id}}).then(function(){a.currentBoardId===t._id&&a.$store.dispatch("destroyCurrentBoard"),a.boards.splice(a.boards.indexOf(t),1),a.loadMyInfo()}).catch(function(t){alert(t.response.data.errorMessage)})},loadMyInfo:function(){var t=this;this.$axios.get("/api/me").then(function(a){t.userEmail=a.data.userEmail,t.userName=a.data.userName,t.boards=a.data.boards}).catch(function(t){alert(t.response.data.errorMessage)})},openAddDialog:function(){this.addDialog=!0},closeDialog:function(){this.addBoardName="",this.addDialog=!1},addBoard:function(){var t=this;this.$axios.post("/api/board",{name:this.addBoardName}).then(function(a){t.selectBoard(a.data),t.loadMyInfo(),t.closeDialog()}).catch(function(t){alert(t.response.data.errorMessage)})},selectBoard:function(t){this.$store.dispatch("selectBoard",t),this.drawer=!1},logout:function(){this.$store.dispatch("logout"),this.$router.push("/")}}},x={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("header",[e("v-navigation-drawer",{style:{paddingBottom:0},attrs:{clipped:"",fixed:"",app:""},model:{value:t.drawer,callback:function(a){t.drawer=a},expression:"drawer"}},[e("v-list",{attrs:{dense:""}},[t._l(t.boards,function(a){return e("v-list-tile",{key:a._id,attrs:{avatar:""},on:{click:function(e){t.selectBoard(a)}}},[e("v-list-tile-avatar",[t.currentBoardId===a._id?e("v-icon",[t._v("radio_button_checked")]):e("v-icon",[t._v("radio_button_unchecked")])],1),t._v(" "),e("v-list-tile-content",[e("v-list-tile-title",[t._v(t._s(a.name))])],1),t._v(" "),e("v-list-tile-action",[e("v-btn",{attrs:{icon:""},on:{click:function(e){e.stopPropagation(),t.deleteBoard(a)}}},[e("v-icon",[t._v("clear")])],1)],1)],1)}),t._v(" "),e("v-divider",{style:{marginTop:"10px",marginBottom:"10px"}}),t._v(" "),e("v-list-tile",{on:{click:t.openAddDialog}},[e("v-list-tile-avatar",[e("v-icon",[t._v("add")])],1),t._v(" "),e("v-list-tile-content",[e("v-list-tile-title",[t._v("Add Board")])],1)],1),t._v(" "),e("v-list-tile",{on:{click:t.logout}},[e("v-list-tile-avatar",[e("v-icon",[t._v("exit_to_app")])],1),t._v(" "),e("v-list-tile-content",[e("v-list-tile-title",[t._v("Logout")])],1)],1)],2)],1),t._v(" "),e("v-toolbar",{attrs:{app:"",fixed:"","clipped-left":""}},[e("v-toolbar-side-icon",{on:{click:function(a){a.stopPropagation(),t.drawer=!t.drawer}}}),t._v(" "),t.currentBoardName?e("v-toolbar-title",[t._v(t._s(t.currentBoardName))]):e("v-toolbar-title",[t._v(t._s(t.userName)+"'s Board")])],1),t._v(" "),e("v-dialog",{attrs:{persistent:"","max-width":"550"},model:{value:t.addDialog,callback:function(a){t.addDialog=a},expression:"addDialog"}},[e("v-card",[e("v-card-title",{staticClass:"headline"},[t._v("추가하고 싶은 보드의 이름이 무엇인가요?")]),t._v(" "),e("v-card-text",{style:{paddingTop:0}},[e("v-textarea",{style:{marginTop:0},attrs:{"auto-grow":"","hide-details":"",rows:"1"},model:{value:t.addBoardName,callback:function(a){t.addBoardName=a},expression:"addBoardName"}})],1),t._v(" "),e("v-card-actions",[e("v-spacer"),t._v(" "),e("v-btn",{attrs:{color:"red darken-3",dark:"",flat:""},on:{click:t.closeDialog}},[t._v("CANCEL")]),t._v(" "),e("v-btn",{attrs:{dark:"",flat:""},on:{click:t.addBoard}},[t._v("ADD")])],1)],1)],1)],1)},staticRenderFns:[]};var k=e("VU/8")(_,x,!1,function(t){e("vuPw")},"data-v-79e7f64a",null).exports,b={name:"login",data:function(){return{userEmail:"",password:""}},created:function(){this.$store.dispatch("logout")},methods:{login:function(){var t=this;return c()(d.a.mark(function a(){return d.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.$store.dispatch("login",{userEmail:t.userEmail,password:t.password});case 2:t.$store.getters.getToken&&t.$router.push("/board");case 3:case"end":return a.stop()}},a,t)}))()}}},y={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("v-content",{staticClass:"board"},[e("v-container",{attrs:{"fill-height":""}},[e("v-layout",{attrs:{"align-center":"","fill-height":""}},[e("v-flex",{attrs:{xl4:"",lg6:"",md8:"",sm8:"",cs12:"","offset-xl4":"","offset-lg3":"","offset-md2":"","offset-sm2":""}},[e("v-card",[e("v-card-title",[e("div",{style:{width:"100%",textAlign:"center",fontSize:"30px"}},[t._v("Login")])]),t._v(" "),e("v-card-actions",{staticClass:"py-0 mx-3"},[e("v-text-field",{attrs:{label:"Email",type:"email"},model:{value:t.userEmail,callback:function(a){t.userEmail=a},expression:"userEmail"}})],1),t._v(" "),e("v-card-actions",{staticClass:"py-0 mx-3"},[e("v-text-field",{attrs:{label:"Password",type:"password"},model:{value:t.password,callback:function(a){t.password=a},expression:"password"}})],1),t._v(" "),e("v-card-actions",{staticClass:"mx-3 pb-3"},[e("v-spacer"),t._v(" "),e("router-link",{attrs:{to:"/signup"}},[t._v("Create Account")]),t._v(" "),e("v-btn",{staticClass:"ml-4",on:{click:t.login}},[t._v("LOGIN")])],1)],1)],1)],1)],1)],1)},staticRenderFns:[]};var w=e("VU/8")(b,y,!1,function(t){e("TKZb")},"data-v-384b26f2",null).exports,C={name:"signup",data:function(){return{userEmail:"",userName:"",password:""}},methods:{signUp:function(){var t=this;this.$axios.post("/api/user",{userEmail:this.userEmail,userName:this.userName,password:this.password}).then(function(){alert("가입이 되셨습니다. 환영합니다."),t.$router.push("/")}).catch(function(t){alert(t.response.data.errorMessage)})}}},B={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("v-content",{staticClass:"board"},[e("v-container",{attrs:{"fill-height":""}},[e("v-layout",{attrs:{"align-center":"","fill-height":""}},[e("v-flex",{attrs:{xl4:"",lg6:"",md8:"",sm8:"",cs12:"","offset-xl4":"","offset-lg3":"","offset-md2":"","offset-sm2":""}},[e("v-card",[e("v-card-title",[e("div",{style:{width:"100%",textAlign:"center",fontSize:"30px"}},[t._v("Sign Up")])]),t._v(" "),e("v-card-actions",{staticClass:"py-0 mx-3"},[e("v-text-field",{attrs:{label:"Name"},model:{value:t.userName,callback:function(a){t.userName=a},expression:"userName"}})],1),t._v(" "),e("v-card-actions",{staticClass:"py-0 mx-3"},[e("v-text-field",{attrs:{label:"Email",type:"email"},model:{value:t.userEmail,callback:function(a){t.userEmail=a},expression:"userEmail"}})],1),t._v(" "),e("v-card-actions",{staticClass:"py-0 mx-3"},[e("v-text-field",{attrs:{label:"Password",type:"password"},model:{value:t.password,callback:function(a){t.password=a},expression:"password"}})],1),t._v(" "),e("v-card-actions",{staticClass:"mx-3 pb-3"},[e("v-spacer"),t._v(" "),e("v-btn",{staticClass:"ml-4",on:{click:t.signUp}},[t._v("Sign Up")])],1)],1)],1)],1)],1)],1)},staticRenderFns:[]};var D=e("VU/8")(C,B,!1,function(t){e("oWJU")},"data-v-c894a1c4",null).exports;r.default.use(s.a);var N=new s.a({mode:"history",routes:[{path:"/board",name:"Board",components:{nav:k,content:h},beforeEnter:function(t,a,e){if(m.getters.getToken)return f.a.defaults.headers.common.token=m.getters.getToken,e();alert("로그인해주세요."),e("/")}},{path:"/",name:"Login",components:{content:w}},{path:"/signup",name:"SignUp",components:{content:D}}]}),L=e("3EgV"),E=e.n(L);e("7zck"),e("gJtD");r.default.config.productionTip=!1,r.default.prototype.$axios=f.a,r.default.use(E.a),new r.default({el:"#app",router:N,store:m,components:{App:i},template:"<App/>"})},TKZb:function(t,a){},gJtD:function(t,a){},oWJU:function(t,a){},vuPw:function(t,a){}},["NHnr"]);
//# sourceMappingURL=app.dceb0a9924e204518158.js.map